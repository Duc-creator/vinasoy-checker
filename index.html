<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OCR Date Checker</title>
  <style>
    body { font-family: sans-serif; text-align: center; background: #f8f8f8; padding: 20px; }
    h1 { color: #333; }
    textarea, input, select, button {
      padding: 10px;
      margin: 10px 0;
      font-size: 1em;
      width: 90%;
      max-width: 400px;
    }
    button {
      cursor: pointer;
      border: none;
      border-radius: 5px;
    }
    .blue-btn { background: #007bff; color: white; }
  </style>
</head>
<body>
  <h1>OCR Date Checker</h1>
  <h2>Tạo danh sách date code</h2>

  <div>
    <label for="batchCode">Mã lô (3 ký tự):</label>
    <input type="text" id="batchCode" maxlength="3" placeholder="VD: 086">
  </div>

  <div>
    <label for="weekday">Thứ hôm nay:</label>
    <input type="text" id="weekday" readonly>
  </div>

  <button class="blue-btn" onclick="generateDateCodes()">Tạo danh sách date</button>
  <textarea id="dateList" rows="10"></textarea>

  <script>
    // Lấy số thứ hiện tại (Chủ Nhật = 1, Thứ 2 = 2, ... Thứ 7 = 7)
    function updateWeekday() {
      const today = new Date();
      const day = today.getDay(); // 0-6 (0 = Chủ Nhật)
      const weekday = (day === 0) ? 1 : day + 1;
      document.getElementById('weekday').value = weekday;
      return weekday;
    }
    updateWeekday();

    // Hàm sinh danh sách date code
    function generateDateCodes() {
      const batchCode = document.getElementById('batchCode').value.trim();
      const weekday = document.getElementById('weekday').value;

      if (batchCode.length !== 3) {
        alert('Vui lòng nhập mã lô 3 ký tự (VD: 086)');
        return;
      }

      // Ngày hiện tại theo định dạng ddMMyy
      const today = new Date();
      const dd = String(today.getDate()).padStart(2, '0');
      const mm = String(today.getMonth() + 1).padStart(2, '0');
      const yy = String(today.getFullYear()).slice(2);
      const dateCode = dd + mm + yy;

      // Tạo 8 line từ A đến H
      const lines = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H'];
      let result = '';
      lines.forEach(line => {
        result += `${dateCode} ${batchCode}${line}${weekday}\n`;
      });

      document.getElementById('dateList').value = result.trim();
    }
  </script>
</body>
</html>
